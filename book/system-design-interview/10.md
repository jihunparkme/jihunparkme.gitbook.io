---
description: 대규모 시스템 설계 기초 10장을 요약한 내용입니다.
---

알림 시스템(notification system) 기능을 갖춘 애플리케이션 프로그램은 최신 뉴스, 제품 업데이트, 이벤트, 선물 등 **고객에게 중요할 만한 정보를 비동기적으로 제공**한다.

알림 시스템은 `모바일 푸시 알림`, `SNS 메시지`, `이메일` 세 가지로 분류할 수 있다.

# 1단계: 문제 이해 및 설계 범위 확정

하루에 백만 건 이상의 알림을 처리하는 확장성 높은 시스템을 구축하는 것은 쉬운 과제가 아니다.

요구사항
- 푸시 알림, SMS 메시지, 이메일
- 연성 실시간 시스템
- IOS, Android, Laptop/Desktop
- 미알림 설정
- 하루 천만 건의 모바일 푸시 알림, 백만 건의 SMS 메시지, 5백만 건의 이메일

# 2단계: 개략적 설계안 제시 및 동의 구하기

## 알림 지원별 지원 방안

**IOS 푸시 알림**

IOS 에서 푸시 알림을 보내기 위해 세 가지 컴포넌트가 필요하다.

<center><img src="../../.gitbook/assets/system-design-interview/10-2.png" width="60%"></center>

- `알림 제공자`(provider): 알림 요청을 만들어 애플 푸시 알림 서비스(APNS)로 보내는 주체
  - 알림 요청을 만들기 위해 아래 데이터가 필요
  - device token: 알림 요청을 보내는 데 필요한 고유 식별자
  - payload: 알림 내용을 담은 JSON 딕셔너리
- `APNS`(Apple Push Notification Service): 애플이 제공하는 원격 서비스
  - 푸시 알림을 IOS 장치로 보내는 역할을 담당
- `IOS 단말`(IOS Device): 푸시 알림을 수신하는 사용자 단말

.

**Android 푸시 알림**

안드로이드 푸시 알림도 IOS와 비슷한 절차로 전송된다.
- APNS 대신 `FCM`(Firebase Cloud Messaging)

<center><img src="../../.gitbook/assets/system-design-interview/10-3.png" width="60%"></center>

.

**SMS 메시지**

SMS 메시지를 보낼 떄 보통 `Twilio`, `Nexmo` 같은 제 3사업자의 서비스를 많이 이용한다.

<center><img src="../../.gitbook/assets/system-design-interview/10-4.png" width="60%"></center>

.

**이메일**

상용 이메일 서비스로 유명한 서비스는 `Sendgrid`, `Mailchimp`가 있다.
- 전송 성공률도 높고, 데이터 분석 서비스도 제공한다.

<center><img src="../../.gitbook/assets/system-design-interview/10-5.png" width="60%"></center>

.

**알림 유형 전부를 한 시스템으로 묶으면 아래와 같다.**

<center><img src="../../.gitbook/assets/system-design-interview/10-6.png" width="40%"></center>

## 연락처 정보 수집 절차

## 알림 전송 및 수신 절차

# 3단계: 상세 설계

# 4단계: 마무리