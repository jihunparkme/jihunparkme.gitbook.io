---
description: 대규모 시스템 설계 기초 6장을 요약한 내용입니다.
---

카-값 저장소(key-value store)는 키-값 데이터베이스라고도 불리는 **비 관계형 데이터베이스**이다.
- 이 저장소에 저장되는 값은 **고유 식별자**(identifier)를 키로 가져야 한다.
- 키와 값 사이의 이런 연결 관계를 `key-value` pair 라고 지칭한다.

키-값 쌍에서의 **키는 유일**해야 하며 **해당 키에 매달린 값은 키를 통해서만 접근 가능**하다.
- 키는 일반 텍스트일 수도, 해시 값일 수도 있다.
- 성능상 키는 짧을 수록 좋다.

키-값 쌍에서의 값은 문자열일 수도, 리스트 일 수도, 객체일 수도 있다.
- 키-값 저장소는 보통 값으로 무엇이 오든 상관하지 않는다.
- 널리 알려진 키-값 저장소로는 `Amazon Dynamo`, `memcached`, `redis` 등이 있다.

# 문제 이해 및 설계 범위 확정

- 키-값 쌍의 크기는 **10KB 이하**
- **큰 데이터**를 저장할 수 있어야 한다.
- **높은 가용성**을 제공해야 한다.(시스템은 장애가 있더라도 빠르게 응답해야 한다.)
- **높은 규모 확장성**을 제공해야 한다.(트래픽 양에 따라 자동적으로 서버 증설/삭제가 이루어져야 한다.)
- **데이터 일관성 수준**은 조정이 가능해야 한다.
- **응답 지연시간**(latency)이 짧아야 한다.

# 단일 서버 키-값 저장소

한 대 서버만 사용하는 키-값 저장소를 설계하는 것은 쉽다.
- 가장 직관적인 방법은 키-값 쌍을 전부 메모리에 해시 테이블로 저장하는 것
- 속도는 빠르지만 모든 데이터를 메모리에 저장하는 것은 불가능
- **데이터 압축**과 **자주 쓰이는 데이터만 메모리에 두고 나머지는 디스크에 저장**하는 방법이 있다.

언젠가 한 대의 서버로는 부족하여 많은 데이터를 저장하려면 분산 키-값 저장소(distributed key-value store)를 만들 필요가 있다.