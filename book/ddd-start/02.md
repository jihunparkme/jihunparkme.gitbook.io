# Chapter 2. 아키텍처 개요

## 네 개의 영역

|영역|설명|
|:---|:---|
|표현(Presentation) / Controller |사용자의 요청을 처리하고 사용자에게 정보를 보여준다. 여기서 사용자는 소프트웨어를 사용하는 사람뿐만 아니라 외부 시스템일 수도 있음|
|응용(Application) / Service|사용자가 요청한 기능을 실행. 업무 로직을 직접 구현하지 않으며 도메인 계층을 조합해서 기능을 실행|
|도메인(Domain) / 엔티티|시스템이 제공할 도메인 규칙을 구현|
|인프라스트럭처(Infrastructure)|데이터베이스나 메시징 시스템과 같은 외부 시스템과의 연동을 처리|

표현, 응용, 도메인, 인프라스트럭처는 아키텍처 설계 시 출현하는 전형적인 네 가지 영역.

## DIP

- DIP를 적용하면 **저수준 모듈(구현체)이 고수준 모듈(인터페이스)에 의존**
- 고수준 모듈이 저수준 모듈을 사용하려면 고수준 모듈이 저수준 모듈에 의존해야 하지만,
  - 반대로 저수준 모듈이 고수준 모듈에 의존한다고 하여 `의존 역전 원칙`(`DIP`, Dependency Inversion Principle)이라고 부른다.
- DIP를 적용하면 다른 영역이 인프라스트럭처 영역에 의존할 때 발생할 수 있는 `구현 교체가 어렵고, 테스트가 어려운 문제를 해결`할 수 있다.
  - 사용할 저수준 모듈을 변경해도 고수준 모듈을 수정할 필요가 없다.
  - 구현 클래스가 없어도 테스트 대역을 이용해 거의 모든 기능 테스트가 가능하다.

> 주의. 추상화한 인터페이슨느 저수준 모듈이 아닌 고수준 모듈에 위치시키자.

- 아키텍처 수준에서 DIP를 적용하면 `인프라스트럭처` 영역이 `응용 영역`과 `도메인 영역`에 의존하는 구조가 된다.
- 사용하는 구현 기술에 따라 완벽한 DIP를 적용하기보다는 구현 기술에 의존적인 코드를 도메인에 일부 포함하는 게 효과적일 때도 있다.

## 도메인 영역의 주요 구성요소
















# Chapter 3. 애그리거트

# Chapter 4. 리포지터리와 모델

# Chapter 5. 스피링 데이터 JPA

# Chapter 6. 응용 서비스와 표현 영역

# Chapter 7. 도메인 서비스

# Chapter 8. 애그러기트 트랜잭션

# Chapter 9. 도메인 모델과 바운디드 컨텍스트

# Chapter 10. 이벤트

# Chapter 11. CQRS